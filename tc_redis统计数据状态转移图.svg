<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="431px" height="801px" viewBox="-0.5 -0.5 431 801" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-01-22T03:05:04.241Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36 Edg/87.0.664.75&quot; etag=&quot;3EHVKYbu4Ij6DzywS9Jk&quot; version=&quot;14.2.3&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;dI9Z3RQYTlL139V7SZM_&quot; name=&quot;第 1 页&quot;&gt;5VpLc6M4EP41OmaKh3kdwSazh9narc1W7cwppRjZZoORS8iJPb9+WyAZCzB2Jn7vJYFWS4juT18/MLKH89VXhhez32lCMmQZyQrZI2RZpmEN4J+QrCuJ4zmVYMrSRCrVgqf0J1EzpXSZJqTQFDmlGU8XunBM85yMuSbDjNF3XW1CM/2pCzwlLcHTGGdt6T9pwmeV1HeMWv4bSacz9WTTkCNzrJSloJjhhL5viewY2UNGKa+u5qshyYTxlF2qeY87RjcbYyTnh0z4/pfzuuRusRwt3JUbhMXfb388yFXecLaUL4xiFwVD5I9Q7CA/RKGJYg+FEQofURygwEZRLHT8GIWOGAKdyC0lBvLlegVfKwMyuswTIvZgIDt6n6WcPC3wWIy+A2RANuPzDO5MuJS7IYyT1c7XNDfGA9QROiecrUFFTrANCTAJODOQ9n+v3Wcqn8y2XOdKGZaImW6Wro0KF9KuH7Cx1bJxQYoipfkNWM9xLm09u41Qy83gqdELXEzFBSNJWoDOK1mrMXjUZnijzzaSPoz7KHpEQS/G40cUDRFskDCw9rPknueCY76EjUSVPF20n7zb8/WapUa92ByPn3GSsBY2wMtcB0DBGX0lQ5pRBpKc5qAZTdIsa4hwlk5zuM3IRKwgEJMC5YVSPE+TRDykE286Ij8DuS1IWf45IeW0TEkSIH15Sxmf0SnNcRbX0mi8BJcm0s66DeoJ3yhdSJV/CedrGc7wklPdUWAatv4u55c3P8TNF0fdjlbbg6O1Zm6x235jw8vRJRuTHiPIuMwxmxK+L0K0ncdIhnn6pu/j6J5yu8OTiyJDHN0oQlHY6cxv+AUSEc3mCvRjMBVhfbBnpEh/4pdyPWH1BU1zXr6aEyFn1Ad7SQVych38tz20G5M7afnB+GIErqdR84MpqfFgV8jl/xSvs6VCJ5MCIND01WYXv+6+QYf7HBQCq5Z+9IFqvV7mDUpyDEoJ6ARyuj+U04MSBvAX9GGdIET+oOR0GBoJnXBYknt75ZJtxTrtIQCYIwBmRe14DC8NmecubjxuLDYbiYx9YCj2T8Wb/hXxZk2VPzSmPDlvqiLk1LxZTg0Zw+stBclE7bOs0je3gRm3URM09YNP6gdGA1XVjo/KIkGLRUxDpHtktUgZuQ/69/fTv2Z469qpXwWnqyALPcnyzphlmdYtpFlmV6CGMAjp1aBOuO7ioFW47D1pnmtpZ21w9Wet3WHorXDLHApyJaHjySJU9/Uuar1c9mMd2sY5WfZjer96SM5JesfkLvcmuKurRvxQkTFAkY/CkfShuKiKA3+S5ii2q/4MK7iSB4dUDw+XrR2afTzbuvjxuf/q4bPZfjvd9gzNi5turFqiOsNyVl/evm+h6oy3Fvpw/dF8TvObREN/YHxS3zlD/WG2CxDbNe6uBDHvrgaxOjj4dsOxcuTecGxdMhwrVPwPWrZ7QjAcGNNWX7uv+JAYH8mfFoyu1l0dVuXZStGPOlKjS+ZDVuOz5uDS6ZCqKq8jHbK0fMg8Uj50CKnZN0FqTjep3WF/pMJlL6m5nv4hSmX2V8xxHT8iEG4blM2Pksyq6NTPeq6gPFHjOaL286+K0dyL90esm+iP7KoBz8l5h/ZVLst5O76933RTsdkW8U7YFoHb+sd9FZPVP5G04/8A&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/index.html#Hc17abab%2Fdiag_pics%2Fmain%2Ftc_redis%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB%E5%9B%BE.svg"><defs/><g><rect x="305" y="190" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 220px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">服务端链接状态</div></div></div></foreignObject><text x="365" y="224" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">服务端链接状态</text></switch></g><rect x="305" y="550" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">session状态</div></div></div></foreignObject><text x="365" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">session状态</text></switch></g><rect x="0" y="0" width="280" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 30px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>redis key</b><br />服务端连接状态：server_connect_status+serverip<br />session状态：session_status+mac_addr</div></div></div></foreignObject><text x="2" y="34" fill="#000000" font-family="Helvetica" font-size="12px">redis key...</text></switch></g><path d="M 135 170 Q 220 170 220 195 Q 220 220 298.63 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 303.88 220 L 296.88 223.5 L 298.63 220 L 296.88 216.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 185px; margin-left: 208px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">新建</div></div></div></foreignObject><text x="208" y="188" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">新建</text></switch></g><ellipse cx="75" cy="170" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 170px; margin-left: 16px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">客户端连接选择完成后的初次连接，连接数+1</div></div></div></foreignObject><text x="75" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">客户端连接选择完成后的初次连接，连接数+1</text></switch></g><path d="M 365 190 Q 365 160 380 160 Q 395 160 395 175 Q 395 190 371.37 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 366.12 190 L 373.12 186.5 L 371.37 190 L 373.12 193.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 159px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">10s expire</div></div></div></foreignObject><text x="391" y="162" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">10s expire</text></switch></g><path d="M 135 330 Q 220 330 220 282.5 Q 220 235 298.63 235" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 303.88 235 L 296.88 238.5 L 298.63 235 L 296.88 231.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 294px; margin-left: 217px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新</div></div></div></foreignObject><text x="217" y="297" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新</text></switch></g><ellipse cx="75" cy="330" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 330px; margin-left: 16px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">服务端定时更新expire</div></div></div></foreignObject><text x="75" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">服务端定时更新expire</text></switch></g><path d="M 365 320 Q 365 320 365 256.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365 251.12 L 368.5 258.12 L 365 256.37 L 361.5 258.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 285px; margin-left: 365px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新</div></div></div></foreignObject><text x="365" y="288" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新</text></switch></g><ellipse cx="365" cy="360" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">客户端连接中断（fin、rst），连接数-1</div></div></div></foreignObject><text x="365" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">客户端连接中断（fin、rst），连接数-1</text></switch></g><path d="M 370 550 Q 370 520 385 520 Q 400 520 400 535 Q 400 550 376.37 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 371.12 550 L 378.12 546.5 L 376.37 550 L 378.12 553.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 519px; margin-left: 396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">3600s expire</div></div></div></foreignObject><text x="396" y="522" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">3600s expire</text></switch></g><path d="M 145 580 Q 145 580 298.63 580" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 303.88 580 L 296.88 583.5 L 298.63 580 L 296.88 576.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 581px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">新建</div></div></div></foreignObject><text x="215" y="584" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">新建</text></switch></g><ellipse cx="85" cy="580" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 26px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">客户端proxy初次建立连接</div></div></div></foreignObject><text x="85" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">客户端proxy初次建立连接</text></switch></g><path d="M 145 730 Q 335 730 335 616.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 335 611.12 L 338.5 618.12 L 335 616.37 L 331.5 618.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 713px; margin-left: 275px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新</div></div></div></foreignObject><text x="275" y="716" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新</text></switch></g><ellipse cx="85" cy="730" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 730px; margin-left: 26px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">收到客户端proxy来包</div></div></div></foreignObject><text x="85" y="734" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">收到客户端proxy来包</text></switch></g><path d="M 365 720 Q 365 720 365 616.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365 611.12 L 368.5 618.12 L 365 616.37 L 361.5 618.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 665px; margin-left: 365px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新</div></div></div></foreignObject><text x="365" y="668" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新</text></switch></g><ellipse cx="365" cy="760" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 760px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">服务端定时更新expire</div></div></div></foreignObject><text x="365" y="764" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">服务端定时更新expire</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>